var BUY_ORDER="buy";var SELL_ORDER="sell";var ALL_ORDER="all";var ESI_ENDPOINT="https://esi.evetech.net";var PAGE_MULTIPLE=50;var tableCreated=false;var createdRefresher=false;var totalProgress=0;var executingCount=0;var customBuy={};var customSell={};var itemCache={};var page=1;var iteration=1;var rowAdded=false;function getMarketData(e,d,a,g){var f;if(typeof(e)=="string"){f=[e]}else{if(e!=null){f=getBestMarketPrice(e,d,a,g)}}var b=[];if(f){for(var c=0;c<f.length;c++){if(f[c][0]>0){b.push(f[c])}}}return b}function getBestMarketPrice(d,c,k,i,j){var h=[];for(var m=0;m<d.length;m++){var b=d[m];var a=(b.is_buy_order&&k===BUY_ORDER)||(!b.is_buy_order&&k===SELL_ORDER);if(c==b.location_id&&b.min_volume===1&&a){var g=b.price;var f=b.volume_remain;h.push([g,f])}}if(k==SELL_ORDER){var e=j?sellOrderComparatorRoute:sellOrderComparatorStation;h=h.sort(e);saveSellOrderData(c,i,$.extend(true,[],h))}else{var l=j?buyOrderComparatorRoute:buyOrderComparatorStation;h=h.sort(l);saveBuyOrderData(c,i,$.extend(true,[],h))}return h}function saveSellOrderData(b,c,a){if(!customBuy[b]){customBuy[b]=[]}customBuy[b][c]=a}function saveBuyOrderData(b,c,a){if(!customSell[b]){customSell[b]=[]}customSell[b][c]=a}function sellOrderComparatorRoute(d,c){if(d[0]>c[0]){return -1}if(d[0]<c[0]){return 1}return 0}function buyOrderComparatorRoute(d,c){if(d[0]>c[0]){return 1}if(d[0]<c[0]){return -1}return 0}function sellOrderComparatorStation(d,c){if(d[0]>c[0]){return 1}if(d[0]<c[0]){return -1}return 0}function buyOrderComparatorStation(d,c){if(d[0]>c[0]){return -1}if(d[0]<c[0]){return 1}return 0}function bestRowComparator(d,c){if(d[5]<c[5]){return 1}if(d[5]>c[5]){return -1}return 0}function getStationName(b){var a="";$.each(endCoordinates,function(){if(a.length==0&&this.station==b){a=this.name}});return a}function numberWithCommas(a){while(/(\d+)(\d{3})/.test(a.toString())){a=a.toString().replace(/(\d+)(\d{3})/,"$1,$2")}return a}function getTotalProgress(){var a=0;var d=true;for(var b=0;b<routes.length;b++){d=(d&&routes[b].completed);var c=routes[b].recalculateProgress();a+=c/routes.length}if(d){totalProgress=100}else{totalProgress=a>100?100:a}$(".loading").html("Fetching orders: "+totalProgress.toFixed(2)+"% complete")}function refresh(){$("#noselect-object").html('<table id="dataTable" class="display"></table>');$(".dataTables_filter").remove();$(".dt-buttons").remove();$("#refresh-button").remove();iteration+=1;for(var a=0;a<routes.length;a++){routes[a].clear()}customBuy=[];customSell=[];startCoordinates=[];endCoordinates=[];startLocation="";addedToStartList=[];addedToEndList=[];endLocations=[];page=1;totalProgress=0;createdRefresher=false;tableCreated=false;init()}var spamItems=["ahremen's","brokara's","brynn's","chelm's","cormack's","draclira's","estamel's","gotan's","hakim's","kaikka's","mizuro's","raysere's","selynne's","setele's","shaqil's","tairei's","thon's","tuvan's","vizen's","zor's"];function isSpamItem(a){for(var b=0;b<spamItems.length;b++){if(a.toLowerCase().indexOf(spamItems[b])>=0){return true}}return false};