var thiz;var BUY_ORDER="buy";var SELL_ORDER="sell";var ALL_ORDER="all";var ESI_ENDPOINT="https://esi.evetech.net";var PAGE_MULTIPLE=50;var customBuy=[];var customSell=[];var page=1;var iteration=1;function getMarketData(e,d,a,g){var f;if(typeof(e)=="string"){f=[e]}else{if(e!=null){f=getBestMarketPrice(e,d,a,g)}}var b=[];if(f){for(var c=0;c<f.length;c++){if(f[c][0]>0){b.push(f[c])}}}return b}function getBestMarketPrice(d,c,i,h){var g=[];for(var j=0;j<d.length;j++){var b=d[j];var a=(b.is_buy_order&&i===BUY_ORDER)||(!b.is_buy_order&&i===SELL_ORDER);if(c==b.location_id&&b.min_volume===1&&a){var f=b.price;var e=b.volume_remain;g.push([f,e])}}if(i==SELL_ORDER){g=g.sort(sellOrderComparator);saveSellOrderData(c,h,$.extend(true,[],g))}else{g=g.sort(buyOrderComparator);saveBuyOrderData(c,h,$.extend(true,[],g))}return g}function saveSellOrderData(b,c,a){if(!customBuy[b]){customBuy[b]=[]}customBuy[b][c]=a}function saveBuyOrderData(b,c,a){if(!customSell[b]){customSell[b]=[]}customSell[b][c]=a}function sellOrderComparator(d,c){var e=thiz.className()==="Route"?1:-1;if(d[0]>c[0]){return -1*e}if(d[0]<c[0]){return e}return 0}function buyOrderComparator(d,c){var e=thiz.className()==="Route"?1:-1;if(d[0]>c[0]){return e}if(d[0]<c[0]){return -1*e}return 0}function bestRowComparator(d,c){if(d[5]<c[5]){return 1}if(d[5]>c[5]){return -1}return 0}function getStationName(b){var a="";$.each(endCoordinates,function(){if(a.length==0&&this.station==b){a=this.name}});return a}function numberWithCommas(a){while(/(\d+)(\d{3})/.test(a.toString())){a=a.toString().replace(/(\d+)(\d{3})/,"$1,$2")}return a};