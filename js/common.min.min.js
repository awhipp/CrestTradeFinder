var BUY_ORDER="buy";var SELL_ORDER="sell";var ALL_ORDER="all";var ESI_ENDPOINT="https://esi.evetech.net";var PAGE_MULTIPLE=50;var tableCreated=false;var createdRefresher=false;var totalProgress=0;var executingCount=0;var customBuy={};var customSell={};var itemCache={};var page=1;var iteration=1;var rowAdded=false;function getMarketData(l,m,i,j){var k;if(typeof(l)=="string"){k=[l]}else{if(l!=null){k=getBestMarketPrice(l,m,i,j)}}var h=[];if(k){for(var n=0;n<k.length;n++){if(k[n][0]>0){h.push(k[n])}}}return h}function getBestMarketPrice(w,x,p,r,q){var s=[];for(var n=0;n<w.length;n++){var y=w[n];var z=(y.is_buy_order&&p===BUY_ORDER)||(!y.is_buy_order&&p===SELL_ORDER);if(x==y.location_id&&y.min_volume===1&&z){var t=y.price;var u=y.volume_remain;s.push([t,u])}}if(p==SELL_ORDER){var v=q?sellOrderComparatorRoute:sellOrderComparatorStation;s=s.sort(v);saveSellOrderData(x,r,$.extend(true,[],s))}else{var o=q?buyOrderComparatorRoute:buyOrderComparatorStation;s=s.sort(o);saveBuyOrderData(x,r,$.extend(true,[],s))}return s}function saveSellOrderData(d,f,e){if(!customBuy[d]){customBuy[d]=[]}customBuy[d][f]=e}function saveBuyOrderData(d,f,e){if(!customSell[d]){customSell[d]=[]}customSell[d][f]=e}function sellOrderComparatorRoute(a,b){if(a[0]>b[0]){return -1}if(a[0]<b[0]){return 1}return 0}function buyOrderComparatorRoute(a,b){if(a[0]>b[0]){return 1}if(a[0]<b[0]){return -1}return 0}function sellOrderComparatorStation(a,b){if(a[0]>b[0]){return 1}if(a[0]<b[0]){return -1}return 0}function buyOrderComparatorStation(a,b){if(a[0]>b[0]){return -1}if(a[0]<b[0]){return 1}return 0}function bestRowComparator(a,b){if(a[5]<b[5]){return 1}if(a[5]>b[5]){return -1}return 0}function getStationName(c){var d="";$.each(endCoordinates,function(){if(d.length==0&&this.station==c){d=this.name}});return d}function numberWithCommas(b){while(/(\d+)(\d{3})/.test(b.toString())){b=b.toString().replace(/(\d+)(\d{3})/,"$1,$2")}return b}function getTotalProgress(){var f=0;var g=true;for(var e=0;e<routes.length;e++){g=(g&&routes[e].completed);var h=routes[e].recalculateProgress();f+=h/routes.length}if(g){totalProgress=100}else{totalProgress=f>100?100:f}$(".loading").html("Fetching orders: "+totalProgress.toFixed(2)+"% complete")}function refresh(){$("#noselect-object").html('<table id="dataTable" class="display"></table>');$(".dataTables_filter").remove();$(".dt-buttons").remove();$("#refresh-button").remove();iteration+=1;for(var b=0;b<routes.length;b++){routes[b].clear()}customBuy=[];customSell=[];startCoordinates=[];endCoordinates=[];startLocation="";addedToStartList=[];addedToEndList=[];endLocations=[];page=1;totalProgress=0;createdRefresher=false;tableCreated=false;init()}var spamItems=["ahremen's","brokara's","brynn's","chelm's","cormack's","draclira's","estamel's","gotan's","hakim's","kaikka's","mizuro's","raysere's","selynne's","setele's","shaqil's","tairei's","thon's","tuvan's","vizen's","zor's"];function isSpamItem(d){for(var c=0;c<spamItems.length;c++){if(d.toLowerCase().indexOf(spamItems[c])>=0){return true}}return false};